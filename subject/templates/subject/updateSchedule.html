<form method="post" enctype="multipart/form-data" action="{% url 'updateSchedule' schedule.id %}" class="needs-validation" novalidate>
    {% csrf_token %}
    {{form.as_p}}
    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
  
  <script>
    // Function to dynamically update the label of the custom file input
    function updateFileLabel() {
      var input = document.querySelector('.custom-file-input')
      var fileName = input.getAttribute('data-current-file') // Get the current file name if it's set as an attribute
    
      if (fileName) {
        input.nextElementSibling.innerText = fileName // Display the current file from the database if available
      }
    
      // Add event listener to handle file selection changes
      input.addEventListener('change', function (e) {
        var selectedFileName = e.target.files[0].name
        e.target.nextElementSibling.innerText = selectedFileName // Update the label with the new file name
      })
    }
    
    // Call the function after the DOM is loaded
    document.addEventListener('DOMContentLoaded', function () {
      updateFileLabel()
    })
  </script>
  